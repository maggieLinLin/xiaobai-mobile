<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="color-scheme" content="light only">
    <meta name="supported-color-schemes" content="light">
    <style>
        html{color-scheme:light only!important;-webkit-color-scheme:light!important;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%)!important}
        body{color-scheme:light only!important;-webkit-color-scheme:light!important}
        #phone-frame{background:#E0F4FF!important;color:#333!important}
    </style>
    <script>
        (function(){document.documentElement.style.colorScheme='light';document.documentElement.style.webkitColorScheme='light';})();
    </script>
    <title>Â∞èÁôΩÊú∫</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/phone.css">
    <link rel="stylesheet" href="css/settings.css">
    <link rel="stylesheet" href="css/home.css">
    <link rel="stylesheet" href="css/apps.css">
    <link rel="stylesheet" href="css/linee-app.css">
    <link rel="stylesheet" href="css/linee-profile-settings.css">
    <link rel="stylesheet" href="css/force-light.css">
    <meta name="color-scheme" content="light">
    <meta name="theme-color" content="#A0D8EF">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</head>
<body>
    <div id="phone-container">
        <div id="phone-frame">
            <div id="notch"></div>
            <div id="status-bar">
                <span id="status-time"></span>
                <span id="status-battery">
                    <span id="battery-level">100%</span>
                    <span id="battery-icon">üîã</span>
                </span>
            </div>
            <div id="pull-hint">‚¨á ‰∏ãÊãâÊâìÂºÄËÆæÁΩÆ / ÁÇπÂáªÁÅµÂä®Â≤õ ‚¨Ü</div>

            <div id="settings-page" class="hidden">
                <div class="settings-header">
                    <h2>ËÆæÁΩÆ</h2>
                    <button id="close-settings">√ó</button>
                </div>
                <div class="settings-content">
                    <div class="settings-tabs">
                        <button class="tab-btn active" data-tab="api">API</button>
                        <button class="tab-btn" data-tab="font">Â≠ó‰Ωì</button>
                        <button class="tab-btn" data-tab="beauty">ÁæéÂåñ</button>
                    </div>

                    <div class="tab-content active" id="tab-api">
                        <h3>ü§ñ API ÈÖçÁΩÆ</h3>
                        <div style="font-size:11px;color:#999;margin-bottom:10px">‚ö† ‰∏çÈúÄË¶ÅÂä† /v1</div>
                        <input type="text" id="api-url" placeholder="API Âèç‰ª£Âú∞ÂùÄ">
                        <input type="password" id="api-key" placeholder="API ÂØÜÈí•">
                        <button id="fetch-models">ÊãâÂèñÊ®°Âûã</button>
                        <select id="model-select"><option>ËØ∑ÂÖàÊãâÂèñÊ®°Âûã</option></select>
                        <label>Ê®°ÂûãÊ∏©Â∫¶: <span id="temp-value">0.7</span></label>
                        <input type="range" id="temperature" min="0" max="2" step="0.1" value="0.7" style="width:100%">
                        <label style="display:flex;align-items:center;gap:10px;margin:15px 0">
                            <input type="checkbox" id="enable-system-role">ÂêØÁî®ÂêéÂè∞ËßíËâ≤
                        </label>
                        <div style="font-size:11px;color:red;margin-top:-10px;margin-bottom:15px">‚ö† ÂºÄÂêØÂêéÂ∞ÜËá™Âä®Â¢ûÂä†È¢ùÂ∫¶Ë∞ÉÁî®</div>
                        
                        <h4>üíæ API ÈÖçÁΩÆÂàóË°®</h4>
                        <div style="display:flex;gap:10px;margin-bottom:10px">
                            <input type="text" id="api-config-name" placeholder="ÈÖçÁΩÆÂêçÁß∞" style="flex:1">
                            <button id="save-api-config" style="margin:0">‰øùÂ≠ò</button>
                        </div>
                        <select id="api-config-list" size="4" style="width:100%;margin-bottom:10px;padding:8px;border-radius:10px;border:2px solid #e8e8e8"></select>
                        <div style="display:flex;gap:10px">
                            <button id="load-api-config" style="flex:1;margin:0;background:linear-gradient(135deg,#28a745,#20873a)">Âä†ËΩΩÈÄâ‰∏≠</button>
                            <button id="delete-api-config" style="flex:1;margin:0;background:linear-gradient(135deg,#dc3545,#c82333)">Âà†Èô§ÈÄâ‰∏≠</button>
                        </div>
                        
                        <h4 style="margin-top:20px">üéô Minimax TTS</h4>
                        <div style="font-size:11px;color:#666;margin-bottom:10px">ËØ•ËÆæÁΩÆÁî®‰∫éÊèê‰æõAIËØ≠Èü≥‰ø°ÊÅØ</div>
                        <input type="text" id="minimax-group-id" placeholder="Minimax Group ID">
                        <input type="password" id="minimax-api-key" placeholder="Minimax API Key">
                        <button id="fetch-tts-models">ÊãâÂèñËØ≠Èü≥Ê®°Âûã</button>
                        <select id="tts-model-select"><option>ËØ∑ÂÖàÊãâÂèñÊ®°Âûã</option></select>
                        
                        <h4 style="margin-top:15px">üíæ TTS ÈÖçÁΩÆÂàóË°®</h4>
                        <div style="display:flex;gap:10px;margin-bottom:10px">
                            <input type="text" id="tts-config-name" placeholder="ÈÖçÁΩÆÂêçÁß∞" style="flex:1">
                            <button id="save-tts-config" style="margin:0">‰øùÂ≠ò</button>
                        </div>
                        <select id="tts-config-list" size="3" style="width:100%;margin-bottom:10px;padding:8px;border-radius:10px;border:2px solid #e8e8e8"></select>
                        <div style="display:flex;gap:10px">
                            <button id="load-tts-config" style="flex:1;margin:0;background:linear-gradient(135deg,#28a745,#20873a)">Âä†ËΩΩÈÄâ‰∏≠</button>
                            <button id="delete-tts-config" style="flex:1;margin:0;background:linear-gradient(135deg,#dc3545,#c82333)">Âà†Èô§ÈÄâ‰∏≠</button>
                        </div>
                        
                        <button id="save-api" style="width:100%;margin-top:25px">‰øùÂ≠òÂΩìÂâçÊâÄÊúâËÆæÂÆö</button>
                        <div style="display:flex;gap:10px;margin-top:10px">
                            <button id="export-api" style="flex:1;margin:0">ÂØºÂá∫ API ËÆæÂÆö</button>
                            <button id="import-api" style="flex:1;margin:0">ÂØºÂÖ• API ËÆæÂÆö</button>
                        </div>
                        
                        <h4 style="margin-top:25px;color:#d9534f">üì¶ ÂÖ®Êú∫Êï∞ÊçÆ</h4>
                        <div class="btn-group">
                            <button id="export-all-data" style="background:linear-gradient(135deg,#28a745,#20873a)">ÂØºÂá∫ÂÖ®Êú∫Êï∞ÊçÆ</button>
                            <button id="import-all-data" style="background:linear-gradient(135deg,#17a2b8,#138496)">ÂØºÂÖ•ÂÖ®Êú∫Êï∞ÊçÆ</button>
                            <button id="clear-all-data" style="background:linear-gradient(135deg,#dc3545,#c82333)">Ê∏ÖÈô§Êú¨Êú∫Êï∞ÊçÆ</button>
                        </div>
                    </div>

                    <div class="tab-content" id="tab-font">
                        <h3>üî§ Â≠ó‰ΩìËÆæÁΩÆ</h3>
                        <a href="https://www.tsanger.cn/" target="_blank" style="display:inline-block;padding:10px 20px;background:linear-gradient(135deg,#667eea,#764ba2);color:white;text-decoration:none;border-radius:10px;margin-bottom:15px;font-size:13px">üåê Êõ¥Â§öÂ≠ó‰ΩìÔºàÈúÄË¶ÅÈ≠îÊ≥ïÔºâ</a>
                        <label>Â≠ó‰Ωì URL:</label>
                        <input type="text" id="font-url" placeholder="ËæìÂÖ•Â≠ó‰Ωì URL (.ttf, .woff, .woff2)">
                        <button id="apply-font-url">Â∫îÁî® URL Â≠ó‰Ωì</button>
                        <label style="margin-top:15px">Êú¨Âú∞Â≠ó‰Ωì:</label>
                        <input type="file" id="font-upload" accept=".ttf,.woff,.woff2">
                        <button id="apply-font-file">Â∫îÁî®Êú¨Âú∞Â≠ó‰Ωì</button>
                        <div id="font-preview" style="margin:20px 0;padding:20px;background:rgba(0,0,0,0.05);border-radius:15px;text-align:center">
                            <div style="font-size:14px;color:#666;margin-bottom:10px">Â≠ó‰ΩìÈ¢ÑËßà</div>
                            <div id="preview-text" style="font-size:18px">Ê¨¢Ëøé‰ΩøÁî®Â∞èÁôΩÊú∫</div>
                        </div>
                        <button id="reset-font">ÊÅ¢Â§çÈªòËÆ§Â≠ó‰Ωì</button>
                    </div>

                    <div class="tab-content" id="tab-beauty">
                        <h3>üé® ‰∏ªÈ¢ò</h3>
                        <div class="theme-grid">
                            <button class="theme-btn" data-theme="cinnamoroll">ÁéâÊ°ÇÁãó</button>
                            <button class="theme-btn" data-theme="hellokitty">Hello Kitty</button>
                            <button class="theme-btn" data-theme="kuromi">Â∫ìÊ¥õÁ±≥</button>
                            <button class="theme-btn" data-theme="mymelody">Áæé‰πêËíÇ</button>
                        </div>
                        <h3 style="margin-top:20px">‚ú® Ëá™ÂÆö‰πâ</h3>
                        <label>Â£ÅÁ∫∏: <input type="file" id="wallpaper-upload" accept="image/*"></label>
                        <label>ËæπÊ°ÜÈ¢úËâ≤: <input type="color" id="frame-color"></label>
                        <button id="toggle-fullscreen">Âº∫Âà∂ÂÖ®Â±è</button>
                        <h3 style="margin-top:20px">üíÖ CSS</h3>
                        <textarea id="custom-css" placeholder="Ëá™ÂÆö‰πâ CSS..."></textarea>
                        <button id="apply-css">Â∫îÁî®</button>
                        <h3 style="margin-top:20px">üì¶ Â•óË£Ö</h3>
                        <button id="export-theme">ÂØºÂá∫</button>
                        <button id="import-theme">ÂØºÂÖ•</button>
                        
                        <h3 style="margin-top:20px;color:#d9534f">üßπ Ê∏ÖÈô§Êï∞ÊçÆ</h3>
                        <button id="clear-beauty-data" style="width:100%;background:linear-gradient(135deg,#dc3545,#c82333)">Ê∏ÖÈô§ÂÖ®Â±ÄÁæéÂåñÊï∞ÊçÆ</button>
                    </div>
                </div>
            </div>

            <div id="home-screen">
                <div id="home-pages">
                    <div class="home-page active">
                        <div id="music-widget" class="widget music-full">
                            <div class="music-cover-art">
                                <div class="music-vinyl">üéµ</div>
                            </div>
                            <div class="music-info">
                                <div class="music-title">Êú™Êí≠Êîæ</div>
                                <div class="music-artist">Ê∑ªÂä†Èü≥‰πêÂºÄÂßãÊí≠Êîæ</div>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="progress-fill"></div>
                                </div>
                            </div>
                            <div class="music-controls">
                                <button id="music-prev" class="control-btn">‚èÆ</button>
                                <button id="music-play" class="control-btn play-btn">‚ñ∂</button>
                                <button id="music-next" class="control-btn">‚è≠</button>
                            </div>
                            <div class="music-actions">
                                <button id="music-search" class="action-btn" title="ÊêúÁ¥¢Èü≥‰πê">üîç</button>
                                <button id="music-add" class="action-btn" title="Ê∑ªÂä†Èü≥‰πê">‚ûï</button>
                                <button id="music-list" class="action-btn" title="ÊàëÁöÑÊ≠åÂçï">‚ò∞</button>
                            </div>
                        </div>
                        <div class="widget-row">
                            <div id="calendar-widget" class="widget"></div>
                            <div id="time-widget" class="widget">
                                <div id="current-time"></div>
                                <input type="text" id="current-date" placeholder="Ê¨¢Ëøé‰ΩøÁî®Â∞èÁôΩÊú∫" style="border:none;background:transparent;text-align:center;outline:none;cursor:text;font-size:12px;width:100%;color:#333">
                            </div>
                        </div>
                        <textarea id="today-memo-widget" placeholder="‰ªäÂ§©Ê≤°Êúâ‰ªªÂä°" rows="1"></textarea>
                        <div class="app-grid">
                            <div class="app-icon" data-app="linee">
                                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 44 44'%3E%3Crect width='44' height='44' rx='10' fill='%23A0D8EF'/%3E%3Ctext x='22' y='28' font-size='24' text-anchor='middle' fill='white'%3EL%3C/text%3E%3C/svg%3E">
                                <span>Linee</span>
                            </div>
                            <div class="app-icon" data-app="developing">
                                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 44 44'%3E%3Crect width='44' height='44' rx='10' fill='%234A90E2'/%3E%3Ctext x='22' y='28' font-size='24' text-anchor='middle' fill='white'%3Eüåç%3C/text%3E%3C/svg%3E">
                                <span>‰∏ñÁïå‰π¶</span>
                            </div>
                            <div class="app-icon" data-app="developing">
                                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 44 44'%3E%3Crect width='44' height='44' rx='10' fill='%23FF2442'/%3E%3Ctext x='22' y='28' font-size='24' text-anchor='middle' fill='white'%3EÂ∞è%3C/text%3E%3C/svg%3E">
                                <span>Â∞èÁ∫¢‰π¶</span>
                            </div>
                            <div class="app-icon" data-app="developing">
                                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 44 44'%3E%3Crect width='44' height='44' rx='10' fill='%2307C160'/%3E%3Ctext x='22' y='28' font-size='24' text-anchor='middle' fill='white'%3EIM%3C/text%3E%3C/svg%3E">
                                <span>IM</span>
                            </div>
                        </div>
                    </div>
                    <div class="home-page">
                        <div class="app-grid">
                            <div class="app-icon developing">
                                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 44 44'%3E%3Crect width='44' height='44' rx='10' fill='%23999'/%3E%3Ctext x='22' y='28' font-size='16' text-anchor='middle' fill='white'%3EÂºÄÂèë‰∏≠%3C/text%3E%3C/svg%3E">
                                <span>ÂºÄÂèë‰∏≠</span>
                            </div>
                            <div class="app-icon developing">
                                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 44 44'%3E%3Crect width='44' height='44' rx='10' fill='%23999'/%3E%3Ctext x='22' y='28' font-size='16' text-anchor='middle' fill='white'%3EÂºÄÂèë‰∏≠%3C/text%3E%3C/svg%3E">
                                <span>ÂºÄÂèë‰∏≠</span>
                            </div>
                            <div class="app-icon developing">
                                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 44 44'%3E%3Crect width='44' height='44' rx='10' fill='%23999'/%3E%3Ctext x='22' y='28' font-size='16' text-anchor='middle' fill='white'%3EÂºÄÂèë‰∏≠%3C/text%3E%3C/svg%3E">
                                <span>ÂºÄÂèë‰∏≠</span>
                            </div>
                            <div class="app-icon developing">
                                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 44 44'%3E%3Crect width='44' height='44' rx='10' fill='%23999'/%3E%3Ctext x='22' y='28' font-size='16' text-anchor='middle' fill='white'%3EÂºÄÂèë‰∏≠%3C/text%3E%3C/svg%3E">
                                <span>ÂºÄÂèë‰∏≠</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="page-indicator">
                    <span class="dot active"></span>
                    <span class="dot"></span>
                </div>
            </div>

            <div id="linee-app" class="app-window hidden">
                <div id="linee-app-content">
                    <!-- Main Content - Home Tab -->
                    <div class="linee-main" id="linee-tab-home">
                        <!-- Linee Header -->
                        <div class="linee-header" style="margin-top: 32px;">
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <button class="linee-icon-btn" onclick="closeApp()"><ion-icon name="arrow-back-outline"></ion-icon></button>
                                <div class="linee-title">LINEE</div>
                            </div>
                            <div class="linee-actions">
                                <button class="linee-icon-btn" id="linee-btn-favorites"><ion-icon name="star-outline"></ion-icon></button>
                                <button class="linee-icon-btn" id="linee-btn-notifications"><ion-icon name="notifications-outline"></ion-icon></button>
                                <div style="position:relative;">
                                    <button class="linee-icon-btn" id="linee-btn-add"><ion-icon name="person-add-outline"></ion-icon></button>
                                    <div class="linee-popover hidden" id="linee-add-popover">
                                        <div class="linee-popover-item" id="linee-opt-add-friend">
                                            <ion-icon name="person-outline"></ion-icon> Âä†ÂÖ•Â•ΩÂèã
                                        </div>
                                        <div class="linee-popover-item" id="linee-opt-add-group">
                                            <ion-icon name="people-outline"></ion-icon> Âª∫Á´ãÁæ§ÁªÑ
                                        </div>
                                    </div>
                                </div>
                                <button class="linee-icon-btn" id="linee-btn-settings"><ion-icon name="settings-outline"></ion-icon></button>
                            </div>
                        </div>
                        <!-- Profile Section -->
                        <div class="linee-profile">
                            <div class="linee-profile-row" id="linee-profile-clickable" style="cursor:pointer;">
                                <div class="linee-profile-info">
                                    <div class="linee-name" id="linee-display-name">ÊàëÁöÑÂêçÂ≠ó</div>
                                    <div class="linee-status" id="linee-display-status">ËÆæÂÆöÁä∂ÊÄÅÊ∂àÊÅØ...</div>
                                </div>
                                <div class="linee-avatar">
                                    <img id="linee-display-avatar" src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="Avatar">
                                    <div class="linee-edit-badge">‚úèÔ∏è</div>
                                </div>
                            </div>
                            
                            <!-- Persona Cards -->
                            <div class="linee-cards">
                                <div class="linee-card active">Êó•Â∏∏</div>
                                <div class="linee-card">Â∑•‰Ωú</div>
                                <div class="linee-card">‰ºëÈó≤</div>
                            </div>
                        </div>

                        <!-- Search Bar -->
                        <div class="linee-search-section">
                            <div class="linee-search">
                                <ion-icon name="search-outline" class="linee-search-icon"></ion-icon>
                                <input type="text" placeholder="ÊêúÁ¥¢Â•ΩÂèã„ÄÅÁæ§ÁªÑ" id="linee-search-input">
                            </div>
                        </div>

                        <!-- Lists -->
                        <div class="linee-lists">
                            <!-- Birthdays -->
                            <div class="linee-list-group" id="linee-group-birthdays">
                                <div class="linee-list-header">
                                    <div class="linee-header-text">
                                        <span class="linee-list-title">ÂΩìÊúàÂØøÊòü</span>
                                        <span class="linee-list-subtitle">Â∞èÊòé, Amy, Jason...</span>
                                    </div>
                                    <ion-icon name="chevron-forward-outline" class="linee-arrow"></ion-icon>
                                </div>
                            </div>

                            <!-- Favorites -->
                            <div class="linee-list-group" id="linee-group-favorites">
                                <div class="linee-list-header">
                                    <div class="linee-header-text">
                                        <span class="linee-list-title">ÊàëÁöÑÊúÄÁà±</span>
                                        <span class="linee-list-subtitle">Â¶àÂ¶à, ËÄÅÊùø, Bestie...</span>
                                    </div>
                                    <ion-icon name="chevron-forward-outline" class="linee-arrow"></ion-icon>
                                </div>
                            </div>

                            <!-- Friends -->
                            <div class="linee-list-group expanded" id="linee-group-friends">
                                <div class="linee-list-header" onclick="toggleLineeList('linee-friends-list', this)">
                                    <div class="linee-header-text">
                                        <span class="linee-list-title">Â•ΩÂèã</span>
                                        <span class="linee-list-count" id="linee-friend-count">(5)</span>
                                    </div>
                                    <ion-icon name="chevron-forward-outline" class="linee-arrow"></ion-icon>
                                </div>
                                <div class="linee-list-content" id="linee-friends-list">
                                    <!-- Dynamic Friend Items -->
                                </div>
                            </div>

                            <!-- Groups -->
                            <div class="linee-list-group" id="linee-group-groups">
                                <div class="linee-list-header" onclick="toggleLineeList('linee-groups-list', this)">
                                    <div class="linee-header-text">
                                        <span class="linee-list-title">Áæ§ÁªÑ</span>
                                        <span class="linee-list-count" id="linee-group-count">(2)</span>
                                    </div>
                                    <ion-icon name="chevron-forward-outline" class="linee-arrow"></ion-icon>
                                </div>
                                <div class="linee-list-content hidden" id="linee-groups-list">
                                    <!-- Dynamic Group Items -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Main Content - Chats Tab -->
                    <div class="linee-main" id="linee-tab-chats" style="display: none; padding: 0;">
                        <!-- Chat Header -->
                        <div class="linee-header" style="margin-top: 32px;">
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <button class="linee-icon-btn" onclick="document.querySelectorAll('.linee-nav-item')[0].click()"><ion-icon name="arrow-back-outline"></ion-icon></button>
                                <div class="linee-title">ËÅäÂ§©</div>
                            </div>
                            <div class="linee-actions">
                                <button class="linee-icon-btn"><ion-icon name="image-outline"></ion-icon></button>
                                <button class="linee-icon-btn"><ion-icon name="add-circle-outline"></ion-icon></button>
                                <button class="linee-icon-btn"><ion-icon name="ellipsis-vertical"></ion-icon></button>
                            </div>
                        </div>
                        <!-- Search Bar -->
                        <div style="padding: 12px 16px; background: #FFFFFF;">
                            <div style="position: relative;">
                                <ion-icon name="search-outline" style="position: absolute; left: 12px; top: 50%; transform: translateY(-50%); font-size: 16px; color: #9CA3AF;"></ion-icon>
                                <input type="text" placeholder="ÊêúÂØªËÅäÂ§©ËÆ∞ÂΩï" style="width: 100%; padding: 8px 12px 8px 36px; border: none; border-radius: 12px; background: #E8F6FA; font-size: 14px; outline: none;" />
                            </div>
                        </div>
                        <!-- Chat List -->
                        <div id="linee-chat-list" style="overflow-y: auto; padding-bottom: 80px;"></div>
                    </div>

                    <!-- Chat Room -->
                    <div id="linee-chat-room" style="display: none; flex-direction: column; height: 100%;">
                        <!-- Chat Room Header -->
                        <div class="linee-header" style="margin-top: 32px;">
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <button class="linee-icon-btn" onclick="closeChatRoom()"><ion-icon name="arrow-back-outline"></ion-icon></button>
                                <div class="linee-title" id="chat-room-name"></div>
                            </div>
                            <div class="linee-actions">
                                <button class="linee-icon-btn"><ion-icon name="call-outline"></ion-icon></button>
                                <button class="linee-icon-btn"><ion-icon name="ellipsis-vertical"></ion-icon></button>
                            </div>
                        </div>
                        <!-- Messages -->
                        <div id="chat-messages-container" style="flex: 1; overflow-y: auto; padding: 16px; background: #F8FCFF;"></div>
                        <!-- Input -->
                        <div style="padding: 12px 16px; background: #FFFFFF; border-top: 1px solid #F5F5F5; display: flex; gap: 8px; align-items: center;">
                            <button class="linee-icon-btn"><ion-icon name="add-circle-outline"></ion-icon></button>
                            <input type="text" id="chat-input-field" placeholder="ËæìÂÖ•Ê∂àÊÅØ..." style="flex: 1; padding: 8px 12px; border: 1px solid #E8F6FA; border-radius: 20px; outline: none; font-size: 14px;" />
                            <button class="linee-icon-btn" onclick="sendChatMessage()" style="background: #A0D8EF; color: #FFFFFF;"><ion-icon name="send"></ion-icon></button>
                        </div>
                    </div>

                    <!-- Bottom Nav -->
                    <div class="linee-nav">
                        <div class="linee-nav-item active" data-tab="home">
                            <ion-icon name="home-outline" class="linee-nav-icon"></ion-icon>
                            <span>‰∏ªÈ°µ</span>
                        </div>
                        <div class="linee-nav-item" data-tab="chats">
                            <ion-icon name="chatbubble-ellipses-outline" class="linee-nav-icon"></ion-icon>
                            <span>ËÅäÂ§©</span>
                        </div>
                        <div class="linee-nav-item" data-tab="steps">
                            <ion-icon name="footsteps-outline" class="linee-nav-icon"></ion-icon>
                            <span>Ë∂≥Ëøπ</span>
                        </div>
                        <div class="linee-nav-item" data-tab="diary">
                            <ion-icon name="journal-outline" class="linee-nav-icon"></ion-icon>
                            <span>Êó•ËÆ∞</span>
                        </div>
                        <div class="linee-nav-item" data-tab="wallet">
                            <ion-icon name="wallet-outline" class="linee-nav-icon"></ion-icon>
                            <span>Èí±ÂåÖ</span>
                        </div>
                    </div>

                    <!-- Modals -->
                    <div id="linee-modal-add-friend" class="linee-modal hidden">
                        <div class="linee-modal-content">
                            <h3>Ê∑ªÂä†Â•ΩÂèã</h3>
                            <input type="text" id="linee-new-friend-name" placeholder="ËæìÂÖ•Â•ΩÂèãÂêçÂ≠ó">
                            <div class="linee-modal-actions">
                                <button class="linee-btn-cancel" onclick="closeLineeModal('linee-modal-add-friend')">ÂèñÊ∂à</button>
                                <button class="linee-btn-confirm" onclick="confirmLineeAddFriend()">Ê∑ªÂä†</button>
                            </div>
                        </div>
                    </div>

                    <div id="linee-modal-add-group" class="linee-modal hidden">
                        <div class="linee-modal-content">
                            <h3>Âª∫Á´ãÁæ§ÁªÑ</h3>
                            <div class="linee-avatar-upload">
                                <div class="linee-circle-preview">G</div>
                                <span class="linee-upload-hint">Êõ¥Êç¢Â§¥ÂÉè</span>
                            </div>
                            <input type="text" id="linee-new-group-name" placeholder="Áæ§ÁªÑÂêçÁß∞">
                            <div class="linee-checkbox-container">
                                <input type="checkbox" id="linee-check-join" checked>
                                <span>Êàë‰πüÂä†ÂÖ•Ê≠§Áæ§ÁªÑ</span>
                            </div>
                            <div class="linee-modal-actions">
                                <button class="linee-btn-cancel" onclick="closeLineeModal('linee-modal-add-group')">ÂèñÊ∂à</button>
                                <button class="linee-btn-confirm" onclick="confirmLineeAddGroup()">Âª∫Á´ã</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Linee ‰∏™‰∫∫ËÆæÂÆöÈ°µ -->
            <div id="linee-profile-settings" class="app-window hidden">
                <div id="linee-settings-header">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <button class="linee-icon-btn" onclick="closeLineeProfileSettings()"><ion-icon name="arrow-back-outline"></ion-icon></button>
                        <div class="linee-title">‰∏™‰∫∫ËÆæÂÆö</div>
                    </div>
                    <div></div>
                </div>
                <div class="linee-settings-content">
                    <!-- ÂΩìÂâçÁºñËæëÂå∫ -->
                    <div class="linee-settings-edit">
                        <div class="linee-settings-avatar-section">
                            <div class="linee-settings-avatar-wrapper">
                                <img id="linee-edit-avatar" src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="Avatar">
                                <button class="linee-avatar-change-btn" onclick="changeLineeAvatar()">
                                    <ion-icon name="camera-outline"></ion-icon>
                                </button>
                            </div>
                        </div>
                        <div class="linee-settings-input-group">
                            <label>ÂêçÂ≠ó</label>
                            <input type="text" id="linee-edit-name" placeholder="ËæìÂÖ•ÂêçÂ≠ó" value="ÊàëÁöÑÂêçÂ≠ó">
                        </div>
                        <div class="linee-settings-input-group">
                            <label>Áä∂ÊÄÅÊ∂àÊÅØ</label>
                            <input type="text" id="linee-edit-status-input" placeholder="ËÆæÂÆöÁä∂ÊÄÅÊ∂àÊÅØ..." value="ËÆæÂÆöÁä∂ÊÄÅÊ∂àÊÅØ..." maxlength="20">
                        </div>
                        <div class="linee-settings-input-group">
                            <label>ÊàëÁöÑËÆæÂÆö</label>
                            <textarea id="linee-edit-settings" placeholder="ËæìÂÖ•ÊàëÁöÑËÆæÂÆö..." rows="5"></textarea>
                        </div>
                        <button class="linee-save-profile-btn" onclick="saveLineeProfile()">‰øùÂ≠òËá≥Âç°ÊßΩ</button>
                    </div>

                    <!-- ‰∫∫Áâ©Âç°Âå∫ -->
                    <div class="linee-persona-cards-section">
                        <h4>‰∫∫Áâ©Âç°</h4>
                        <div class="linee-persona-cards-grid">
                            <div class="linee-persona-card" data-slot="0" onclick="selectPersonaCard(0)">
                                <div class="linee-persona-card-avatar">
                                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="">
                                </div>
                                <div class="linee-persona-card-info">
                                    <div class="linee-persona-card-name">ÊàëÁöÑÂêçÂ≠ó</div>
                                    <div class="linee-persona-card-status">ËÆæÂÆöÁä∂ÊÄÅÊ∂àÊÅØ...</div>
                                </div>
                                <div class="linee-persona-card-active">‚úì</div>
                            </div>
                            <div class="linee-persona-card linee-persona-card-empty" data-slot="1" onclick="selectPersonaCard(1)">
                                <div class="linee-persona-card-empty-icon">+</div>
                                <div class="linee-persona-card-empty-text">Á©∫Âç°ÊßΩ</div>
                            </div>
                            <div class="linee-persona-card linee-persona-card-empty" data-slot="2" onclick="selectPersonaCard(2)">
                                <div class="linee-persona-card-empty-icon">+</div>
                                <div class="linee-persona-card-empty-text">Á©∫Âç°ÊßΩ</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="chat-window" class="app-window hidden">
                <div class="app-header">
                    <button class="back-btn">‚Üê</button>
                    <h3 id="chat-title">AI Âä©Êâã</h3>
                </div>
                <div id="chat-messages"></div>
                <div class="chat-input-area">
                    <input type="text" id="chat-input" placeholder="ËæìÂÖ•Ê∂àÊÅØ...">
                    <button id="send-btn">ÂèëÈÄÅ</button>
                </div>
            </div>

            <div id="calendar-app" class="app-window hidden">
                <div class="app-header">
                    <button class="back-btn">‚Üê</button>
                    <h3>Êó•ÂéÜ</h3>
                </div>
                <div id="calendar-full"></div>
                <div id="memo-area">
                    <h4 id="memo-date-title">Â§áÂøòÂΩï</h4>
                    <textarea id="memo-input" placeholder="ËæìÂÖ•Â§áÂøòÂΩï..."></textarea>
                    <button id="save-memo">‰øùÂ≠ò</button>
                </div>
            </div>

            <div id="music-search-modal" class="app-window hidden">
                <div class="app-header">
                    <button class="back-btn">‚Üê</button>
                    <h3>ÊêúÁ¥¢Èü≥‰πê</h3>
                </div>
                <div class="search-area">
                    <input type="text" id="music-search-input" placeholder="ÊêúÁ¥¢Ê≠åÊõ≤ÊàñÊ≠åÊâã...">
                    <button id="do-search">ÊêúÁ¥¢</button>
                </div>
                <div id="search-results"></div>
            </div>

            <div id="music-fav-modal" class="app-window hidden">
                <div class="app-header">
                    <button class="back-btn">‚Üê</button>
                    <h3>ÊàëÁöÑÊ≠åÂçï</h3>
                </div>
                <div id="fav-list"></div>
            </div>

            <div id="add-music-modal" class="app-window hidden">
                <div class="app-header">
                    <button class="back-btn">‚Üê</button>
                    <h3>Ê∑ªÂä†Èü≥‰πê</h3>
                </div>
                <div style="padding:20px;">
                    <div style="margin-bottom:20px;">
                        <label style="display:block;margin-bottom:8px;font-weight:bold;">Ê≠åÊõ≤ÂêçÁß∞</label>
                        <input type="text" id="add-music-title" placeholder="ËæìÂÖ•Ê≠åÊõ≤ÂêçÁß∞" style="width:100%;padding:12px;border-radius:10px;border:2px solid #e8e8e8;font-size:14px;">
                    </div>
                    <div style="margin-bottom:20px;">
                        <label style="display:block;margin-bottom:8px;font-weight:bold;">Ê≠åÊâã</label>
                        <input type="text" id="add-music-artist" placeholder="ËæìÂÖ•Ê≠åÊâãÂêçÁß∞" style="width:100%;padding:12px;border-radius:10px;border:2px solid #e8e8e8;font-size:14px;">
                    </div>
                    <div style="margin-bottom:20px;">
                        <label style="display:block;margin-bottom:8px;font-weight:bold;">Èü≥‰πêÊù•Ê∫ê</label>
                        <input type="url" id="add-music-url" placeholder="Á≤òË¥¥ MP3 ÈìæÊé•Êàñ URL" style="width:100%;padding:12px;border-radius:10px;border:2px solid #e8e8e8;font-size:14px;margin-bottom:10px;">
                        <div style="text-align:center;margin:10px 0;color:#999;font-size:12px;">‚îÄ‚îÄ‚îÄ Êàñ ‚îÄ‚îÄ‚îÄ</div>
                        <input type="file" id="add-music-file" accept="audio/*" style="width:100%;padding:12px;border-radius:10px;border:2px solid #e8e8e8;font-size:14px;">
                        <div style="font-size:11px;color:#999;margin-top:5px;">ÊîØÊåÅ MP3„ÄÅWAV„ÄÅOGG Á≠âÈü≥È¢ëÊ†ºÂºè</div>
                    </div>
                    <button id="confirm-add-music" style="width:100%;padding:15px;background:linear-gradient(135deg,#667eea,#764ba2);color:white;border:none;border-radius:15px;font-size:16px;font-weight:bold;cursor:pointer;">Ê∑ªÂä†Âà∞Êí≠ÊîæÂàóË°®</button>
                </div>
            </div>

            <div id="lyric-float" class="hidden">
                <div id="lyric-text">ÊöÇÊó†Ê≠åËØç</div>
                <button id="close-lyric">√ó</button>
            </div>
        </div>
    </div>

    <input type="file" id="hidden-file-input" accept=".json" style="display:none">
    <input type="file" id="hidden-theme-input" accept=".json" style="display:none">
    <audio id="music-player" style="display:none"></audio>
    <style id="custom-style"></style>
    <style id="custom-font"></style>
    <!-- ‰ΩøÁî®ÂñÆ‰∏ÄÊñá‰ª∂ÁâàÊú¨ÔºàÊé®Ëñ¶Ôºâ -->
    <script src="app.js"></script>
    <!-- Êàñ‰ΩøÁî®Ê®°Â°äÂåñÁâàÊú¨ÔºàÂèñÊ∂à‰∏ãÈù¢ÁöÑË®ªÈáã‰∏¶Ë®ªÈáãÊéâ‰∏äÈù¢ÁöÑ app.jsÔºâ
    <script src="js/state.js"></script>
    <script src="js/statusbar.js"></script>
    <script src="js/home.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/apps.js"></script>
    <script src="js/calendar.js"></script>
    <script src="js/music.js"></script>
    <script src="js/main.js"></script>
    -->
</body>
</html>
